apiVersion: v1
kind: ConfigMap
metadata:
  name: docvault-config
  namespace: docvault
data:
  database_type: "scalable_json"
  storage_type: "s3"  # Use S3 for million+ users
  s3_bucket_name: ""
  cors_origins: "http://localhost:3000,http://localhost:5173"
  environment: "production"
  
  # Redis/Cache configuration
  redis_url: "redis://redis:6379/0"
  redis_host: "redis"
  redis_port: "6379"
  redis_db: "0"
  
  # Celery configuration
  celery_broker_url: "redis://redis:6379/1"
  celery_result_backend: "redis://redis:6379/2"
  
  # Rate limiting
  rate_limit_enabled: "true"
  rate_limit_per_minute: "100"
  rate_limit_per_hour: "1000"
  
  # Performance tuning
  max_workers: "8"  # Increased for high load
  worker_connections: "2000"
  keep_alive_timeout: "65"
  
  # CDN
  cdn_enabled: "true"
  cdn_url: ""

